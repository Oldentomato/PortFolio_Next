---
title: 파이썬 이미지분류
date: 2021-12-15
description: 머신러닝을 위한 파이썬 데이터 분류기
tag: [파이썬, 머신러닝, 분류]
---

학교 연구실에서 피부암 딥러닝 분류프로젝트에 참여하게되었다.  
우선 학습시킬 데이터들이 필요한데 피부암 종류는 7가지이고 최소 10000장이상의 이미지가 필요했다.  
이미지데이터는 찾았지만 종류에 따라 분류되어있지 않았고 10000장 이상의 이미지들을 5명이서 분류하기에는 너무 벅차서
분류메크로를 만들게 되었다.  
이미지데이터들 사이에 csv파일이 있어서 그 표를 토대로 분류하도록 작성하였다.  
파일이동은 shutil을 사용하였고 csv파일을 읽고 종류분류하도록하는 부분은 pandas를 이용하였다.  
처음에 실행할때는 모든 이미지들이 잘 이동되었기에 깃허브에 업로드를 위해 이미지들을 모두 지우고 올린 뒤,  
다음날 다시 프로그램을 실행하였는데 처음에는 70%에서 에러가 나더니 다음에는 30%에서 멈춰버렸다.  
다행히 한참 뒤에 원인을 알게 되었는데, 맥북은 깃허브에 업로드를 하는 순간 .DS_Store라는 파일을 생성하고  
깃허브에 올려버린다. 이 파일은 모든 디렉토리에 들어가기 때문에 files디렉토리 안에서도 생성이 되었다.  
그러기에 프로그램이 실행될 때 이미지 파일만 읽혀야 하는데 .DS_Store가 읽혀버렸기 때문에 에러가 발생한 것이었다.  
원인을 알게된 후, 이미지 외 다른파일 예외처리 코드를 추가하였더니 문제없이 잘 실행되었다.  

깃허브로 가기](https://github.com/Oldentomato/Image_Classification/blob/main/image_classification.py)

```python
  if src is None: #이미지 이외의 파일이 읽혔을때 예외사항처리
        count += 1
        continue
